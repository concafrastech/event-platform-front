<section id="my-profile" class="my-profile-container">
  <h2 class="title">{{ title }}</h2>

  <!-- ALERTAS -->
  <div class="alert alert-success" *ngIf="status == 'success'">
    Dados atualizados com sucesso!
  </div>
  <div class="alert alert-danger" *ngIf="status == 'error'">
    Erro ao atualizar os dados.
  </div>

  <form #userEditForm="ngForm" (ngSubmit)="onSubmit()" class="col-lg-12">
    <div class="row" style="text-align: center; display: flex; align-items: center;">
      <div class="col-lg-2">
        <div class="user-image-for-edit" *ngIf="user.image">
          <img [src]="user.image.fileLink" class="img-user" />
        </div>
        <div class="user-image-for-edit" *ngIf="!user.image">
          <fa-icon [icon]="faUserCircle" size="5x"></fa-icon>
        </div>
        <div class="user-container">
          <button type="button" (click)="selectFile()" class="btn-main">
            Alterar foto
            <input id="select-img" type="file" accept="image/x-png,image/gif,image/jpeg" placeholder="Upload image"
              (change)="fileChangeEvent($event)" />
          </button>
        </div>
      </div>
      <div class="col-lg-10">
        <div class="row">
          <div class="col-lg-3">
            <p>
              <label>Nome</label>
              <input type="text" name="name" #name="ngModel" [(ngModel)]="user.name" class="form-control" required />
              <span *ngIf="!name.value && name.touched">O nome é obrigatório!</span>
            </p>
          </div>
          <div class="col-lg-3">
            <p>
              <label>Sobrenome</label>
              <input type="text" name="surname" #surname="ngModel" [(ngModel)]="user.surname" class="form-control"
                required />
              <span *ngIf="!surname.value && surname.touched">O sobrenome é obrigatório!</span>
            </p>
          </div>
          <div class="col-lg-6">
            <p>
              <label>Endereço</label>
              <input type="text" name="address" #address="ngModel" [(ngModel)]="user.address" class="form-control"
                required />
              <span *ngIf="!address.value && address.touched">O endereço é obrigatório!</span>
            </p>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-3">
            <p>
              <label>Cidade</label>
              <input type="text" name="city" #nick="ngModel" [(ngModel)]="user.city" class="form-control" disabled />
            </p>
          </div>
          <div class="col-lg-3">
            <p>
              <label>Estado</label>
              <input type="text" name="state" #nick="ngModel" [(ngModel)]="user.state" class="form-control" disabled />
            </p>
          </div>
          <div class="col-lg-3">
            <p>
              <label>Pais</label>
              <input type="text" name="country" #nick="ngModel" [(ngModel)]="user.country" class="form-control" />
            </p>
          </div>

          <div class="col-lg-3">
            <p>
              <label>Nascimento</label>
              <input type="text" name="birthday" #nick="ngModel" [(ngModel)]="user.birthday" class="form-control"
                bsDatuserker />
            </p>
          </div>
        </div>
        <div class="row row-container">
          <div class="col-lg-3">
            <p>
              <label>Telefone</label>
              <input type="text" name="whatsapp" #nick="ngModel" [(ngModel)]="user.whatsapp" class="form-control" />
            </p>
          </div>
          <div class="col-lg-3">
            <p>
              <label>Centro Espírita</label>
              <input type="text" name="company" #nick="ngModel" [(ngModel)]="user.company" class="form-control" />
            </p>
          </div>
          <div class="col-lg-3">
            <p>
              <label>E-mail</label>
              <input type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" name="email" #email="ngModel"
                [(ngModel)]="user.email" class="form-control" required />
              <span *ngIf="!email.value && email.touched">Email inválido!</span>
            </p>
          </div>
          <div class="col-lg-3">
            <input type="submit" value="Salvar Alterações" class="btn-main" />
            <!-- [disabled]="!userEditForm.form.valid" -->
          </div>
        </div>
      </div>
    </div>
  </form>
</section>
<section id="banner" class="banner my-profile-container">
  <div class="banner-card banner-img">
    <img src="assets/concafras2021/concafronas/icones/pesquisa.svg" class="img-size" />
  </div>
  <div class="banner-card banner-item">
    <span>Ajude a CONCAFRAS respondendo nossa pesquisa e
      <strong>ganhe 50 passos!</strong></span>
  </div>
  <div class="banner-card banner-button">
    <input type="button" value="Fazer Pesquisa" class="secondary-button" />
  </div>
</section>
<section id="levels" class="my-profile-container">
  <div class="row">
    <div class="col-lg-6">
      <span class="title">Meus níveis e passos</span>
      <div *ngIf="userInfoLevel" class="container-level">
        <div class="container-level-card" *ngIf="userInfoLevel.nextLevel">
          <p class="container-level-basic container-level-card-points">
            {{this._userGamificationService.getPoints()}} passos
          </p>
          <div>
            <img class="badge-main" [src]="userInfoLevel.nextLevel.icon" alt="Badge" />
          </div>
          <p class="container-level-basic container-level-card-text">
            Faltam {{userInfoLevel.pointsToNextLevel}} passos<br />para alcançar o
            <strong class="container-level-card-text-strong">nível {{userInfoLevel.nextLevel.badge}}</strong>
          </p>
        </div>
        <hr class="divider" />
        <div class="container-level-card">
          <p class="container-level-basic container-level-card-levels-text">
            Níveis alcançados
          </p>
          <div class="badge-level-row">
            <div class="badge-level-container" *ngFor="let level of userInfoLevel.achievedLevels">
              <img class="badge-level-img" [src]="level.icon" alt="Badge" />
              <figcaption class="badge-level-img-text">{{level.badge}}</figcaption>
            </div>
            <div class="badge-level-container" *ngFor="let level of userInfoLevel.notAchievedLevels">
              <img class="badge-level-img-off" [src]="_userGamificationService.getIconOffByLevel(level)" alt="Badge" />
              <figcaption class="badge-level-img-text">{{level.badge}}</figcaption>
            </div>
          </div>

          <div class="badge-level-row">
            <a href="" class="btn btn-primary btn-progress">Ver progresso</a>
          </div>

        </div>
      </div>
    </div>
    <div class="col-lg-6">
      <span class="title">Tabela de passos</span>
      <div class="container-points-table">
        <img class="points-table" src="assets/concafras2021/concafronas/tabela_pontos.jpeg" alt="Tabela_de_pontos">
      </div>
      <!-- <app-card-ranking></app-card-ranking>
      <div style="text-align: center; margin-top: 2rem;">
        <input type="button" value="Ver ranking completo" class="btn-main" />
      </div> -->
    </div>
  </div>
</section>
<section id="change-my-points" class="my-profile-container">
  <h2 class="title">Trocar meus passos</h2>
  <div id="carouselChangeMyPoints" class="carousel slide caravan-carousel-recent" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselChangeMyPoints" data-slide-to="0" class="active"></li>
      <li data-target="#carouselChangeMyPoints" data-slide-to="1"></li>
      <!-- <li data-target="#carouselChangeMyPoints" data-slide-to="2"></li> -->
    </ol>
    <div id="carousel-change-my-points" class="carousel-inner">
      <div class="carousel-item card-height active">
        <div class="row">
          <div class="col-sm-3">
            <div class="card">
              <span>teste</span>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card">
              <span>teste</span>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card">
              <span>teste</span>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card">
              <span>teste</span>
            </div>
          </div>
        </div>
      </div>
      <div class="carousel-item card-height">
        <div class="row">
          <div class="col-sm-3">
            <div class="card">
              <span>teste 2</span>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card">
              <span>teste 2</span>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card">
              <span>teste 2</span>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="card">
              <span>teste 2</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselChangeMyPoints" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselChangeMyPoints" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</section>