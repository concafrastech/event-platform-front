<div class="wrapper">
  <!-- Sidebar Holder -->
  <nav id="sidebar">
    <ul class="list-unstyled components">
      <li class="text-center">
        <a class="nav-link text-center" [routerLink]="['/jovem/meus-dados']">
          <img *ngIf="user.image" [src]="user.image.fileLink" class="img-fluid rounded-circle px-4" />
          <fa-icon *ngIf="!user.image" [icon]="faUserCircle" class="sidebar-icon" size="4x"></fa-icon>
          <p *ngIf="user.nick">Bem vindo(a),<br/>{{identity.nick}}!</p>
          <p *ngIf="!user.nick">Bem vindo(a),<br/>{{identity.name}}!</p>
        </a>
      </li>

      <li class="text-center">
        <a class="nav-link text-center disabled" [routerLink]="">
          <img class="img-fluid" src="{{user.level.icon}}">
          <p>Nível {{user.level.badge}}<br/>{{this._userGamificationService.getPoints() ? this._userGamificationService.getPoints() : 0}} pontos</p>
        </a>
      </li>
      <li class="text-center">
        <a [routerLink]="['/jovem/home']">
          <img class="img-fluid" src="assets/concafras2021/concafronas/icones/home.svg">
          <p >Página inicial</p>
        </a>
      </li>
      <li class="text-center">
        <a href="#" data-toggle="modal" (click)="openProgramacaoComponent()">
          <img class="img-fluid" src="assets/jovem/icons/calendar.svg">
          <p >Programação</p>
        </a>
      </li>
      <li class="text-center">
        <a href="#" data-toggle="modal" (click)="openMagneticPassDistanceComponent()">
          <img class="img-fluid" src="assets/jovem/icons/maos.svg" >
          <p >Passe a distância</p>
        </a>
      </li>
      <li class="text-center">
        <a href="#" data-toggle="modal" (click)="openFraternalSupportComponent()">
          <img class="img-fluid" src="assets/jovem/icons/coracao.svg" >
          <p >Amparo Fraterno:<br/>Quer conversar?</p>
        </a>
      </li>
      <li class="text-center">
        <a [routerLink]="['/about']" data-toggle="modal" data-target="#navegar">
          <img class="img-fluid" src="assets/jovem/icons/duvida.svg" >
          <p>Como navegar</p>
        </a>
      </li>
      <li class="text-center">
        <a href="#" data-toggle="modal" (click)="openCloseFraternalSupportChat()">
          <img class="img-fluid" src="assets/concafras2021/concafronas/icones/duvidas-menu-item.svg" >
          <p>Dúvidas?</p>
        </a>
      </li>
      <li class="text-center">
        <a href="#" data-toggle="modal" (click)="logout()">
          <img class="img-fluid" src="assets/concafras2021/concafronas/icones/sair-menu-item.svg" >
          <p >Sair</p>
        </a>
      </li>
       <!-- <li>
        <a href="#">About</a>
        <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false">Pages</a>
        <ul class="collapse list-unstyled" id="pageSubmenu">
          <li><a href="#">Page 1</a></li>
          <li><a href="#">Page 2</a></li>
          <li><a href="#">Page 3</a></li>
        </ul>
      </li> -->
    </ul>
  </nav>

  <!-- Page Content Holder -->
  <div id="content">
    <nav class="navbar navbar-default">
      <div class="container-fluid">
        <div class="navbar-header w-100">
          <div id="webapp_cover" class="d-flex row justify-content-between align-items-center">
            <div class="row justify-content-between no-wrap">
              <div id="menu_button" class="mx-2">
                  <input type="checkbox" id="sidebarCollapse" (click)="toggleClass()">
                  <label for="sidebarCollapse" id="menu_label">
                    <div id="menu_text_bar"></div>
                  </label>
              </div>
              <div class="mx-1">
                <button *ngIf="showBack" id="back-button" class="btn-sm btn-primary" onclick="window.history.back()">&lt;Voltar</button>
              </div>
            </div>
            <div class="navbar-brand CONCAFRASVIRTUAL2021">
              <img src="/assets/jovem/img/logoauta.svg" class="" alt="">
              <span>CONCAFRAS<span class="text-style-1">VIRTUAL</span>2021</span> 
            </div>
            <div></div>
          </div>
        </div>
      <!--
      <nav class="navbar background-navbar" role="navigation">
        <a [routerLink]="" class="back" *ngIf="this._navbarService.ButtonBackIsVisible()" (click)="back()">&lt;Voltar</a>
      </nav>
    -->  
      </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <div class="col-12 col-md-10 pl-md-0 pr-md-5 h-100"><router-outlet></router-outlet></div>
      <div class="col-6 col-md-4">
        <div class="nav-right-sidebar">
          <div class="menu-list">
            <nav class="navbar navbar-expand-lg navbar-light">
              <div class="collapse navbar-collapse" id="navbarNavRight">
                <ul class="navbar-nav flex-column">
                  <li class="nav-item" *ngIf="youtubeliveid">
                    <h3 class="nav-header">Chat ao vivo</h3>
                    <iframe class="embed-responsive-item"
                      [src]="sourceUrl | safe"
                      width="270" height="400" allowfullscreen="">
                    </iframe>
                  </li>
                  <li class="nav-item">
                    <h3 class="nav-header">{{now ? 'Acontecendo agora' : 'Fique Atento!'}}</h3>
                    <div id="carouselControlsNow" class="carousel slide">
                      <div *ngIf="todaySchedule.length > 0">
                        <!-- <ol class="carousel-indicators">
                          <li *ngFor="let item of todaySchedule; let i = index"
                            [ngClass]="i == currentCarouselSchedule ? 'active' : ''"></li>
                        </ol> -->
                        <div class="carousel-inner">
                          <div class="carousel-item card-height active " [ngClass]="now ? 'now' : ''">
                            <div class="card">
                              <img style="width: 90%; height: 100%; margin: 0px auto;" (click)="goToAudithorium()" *ngIf="currentItem?.thumbnail"
                                [src]="currentItem.thumbnail.fileLink" alt="">
                              <img style="width: 90%; height: 100%; margin: 0px auto;" (click)="goToAudithorium()" *ngIf="!currentItem?.thumbnail"
                                src="assets/concafras2021/concafronas/paisagem.jpg" alt="">
                              <span style="color: black">{{
                                todaySchedule[currentCarouselSchedule].name
                                }}</span>
                              <span style="color: black">{{
                                todaySchedule[currentCarouselSchedule].type
                                }}</span>
        
                              <span style="color: black">{{strTime}}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="todaySchedule.length == 0">
                        <div class="carousel-inner">
                          <div class="carousel-item card-height active">
                            <div class="card">
                              <span style="color: black">Sem eventos agendados para hoje</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="todaySchedule.length != 0">
                        <a class="carousel-control-prev" [routerLink]="" role="button" (click)="previousCarouselSchedule()">
                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                          <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" [routerLink]="" role="button" (click)="nextCarouselSchedule()">
                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                          <span class="sr-only">Next</span>
                        </a>
                      </div>
                    </div>
                  </li>
                  <li class="nav-item">
                    <h3 class="nav-header">
                      <img class="img-size" src="assets/concafras2021/concafronas/icones/mosaico.svg" alt="First slide" />
                      Espaço do Caravaneiro
                    </h3>
                    <div id="carouselControlsCaravaneiro" class="carousel slide">
                      <div *ngIf="messages.length > 0">
                        <ol class="carousel-indicators">
                          <li *ngFor="let item of messages; let i = index"
                            [ngClass]="i == currentCarouselShareMessage ? 'active' : ''"></li>
                        </ol>
                        <div class="carousel-inner">
                          <div class="carousel-item card-height active">
                            <div class="card">
                              <span style="color: black">{{
                                messages[currentCarouselShareMessage].message
                                }}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="messages.length == 0">
                        <ol class="carousel-indicators">
                          <li class="active"></li>
                        </ol>
                        <div class="carousel-inner">
                          <div class="carousel-item card-height active">
                            <div class="card">
                              <span style="color: black">Sem mensagens recentes</span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <a class="carousel-control-prev" [routerLink]="" role="button" (click)="previousCarouselShareMessage()">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                      </a>
                      <a class="carousel-control-next" [routerLink]="" role="button" (click)="nextCarouselShareMessage()">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                      </a>
                    </div>
                  </li>
                  <li class="nav-item">
                    <a [routerLink]="['/jovem/caravan-space']" class="btn btn-primary btn-right-sidebar">Acessar o espaço do
                      Caravaneiro</a>
                    <div class="marg20">
                      Faça um post usando a hashtag <br />
                      <span class="strong-hash">#concafras</span> nas redes sociais e <strong>compartilhe!!!</strong>
                    </div>
                    <!-- <div class="marg20 share-div">
                      Compartilhe:
                      <img class="img-size-share" src="assets/concafras2021/concafronas/icones/awesome-facebook.svg"
                        alt="First slide" />
                      <img class="img-size-share" src="assets/concafras2021/concafronas/icones/simple-instagram.svg"
                        alt="First slide" />
                    </div> -->
                    <a (click)="openEFASComponent()" class="btn btn-primary btn-right-sidebar">Marque o Encontro Fraterno Auta de Souza na sua Cidade!</a>
                  </li>
                </ul>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="fixed-div" [ngClass]="showChat ? '' : 'hide-container'">
  <div class="chat-container">
      <embed style="height: 100%; width: 100%;" src="https://tawk.to/chat/5ff34731c31c9117cb6b5dbb/1er74s6at">
  </div>
</div>